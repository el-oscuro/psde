//*****************************************************************************           //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//                                                                                        //03-29-97|0x001b
// PRECEDENCE ANALYSIS UTILITY                                                            //03-29-97|0x001b
//                                                                                        //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//  Copyright: 2006 Robert H. Adams                                                       //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//  The purpose of this program as well as instructions regarding its use is              //03-29-97|0x001b
//  defined in the associated manual.                                                     //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//  This program is free software; you can redistribute it and/or modify                  //03-29-97|0x001b
//  it under the terms of the GNU General Public License as published by                  //03-29-97|0x001b
//  the Free Software Foundation; either version 2 of the License, or                     //03-29-97|0x001b
//  (at your option) any later version.                                                   //03-29-97|0x001b
//                                                                                        //03-29-97|0x001b
//  This program is distributed in the hope that it will be useful,                       //03-29-97|0x001b
//  but WITHOUT ANY WARRANTY; without even the implied warranty of                        //03-29-97|0x001b
//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                         //03-29-97|0x001b
//  GNU General Public License for more details.                                          //03-29-97|0x001b
//                                                                                        //03-29-97|0x001b
//  You should have received a copy of the GNU General Public License                     //03-29-97|0x001b
//  along with this program; if not, write to the Free Software                           //03-29-97|0x001b
//  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA., 02110-1301            //03-29-97|0x001b
//  USA                                                                                   //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//  For further information, please contact Robert Adams:                                 //03-29-97|0x001b
//     EMail:    robert.adams@whatifwe.com                                                //03-29-97|0x001b
//     Mail:     PO Box 156, Sun Valley, Ca. 91353-0155, USA                              //03-29-97|0x001b
//  Or visit the website, "www.whatifwe.com".                                             //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
//*****************************************************************************           //03-29-97|0x001b
#ifdef WIN31_SYSTEM                                                                       //05-24-97|0x001c
#include "precwn31.h"                                                                     //05-24-97|0x001c
#endif                                                                                    //05-24-97|0x001c
#ifdef WIN95_SYSTEM                                                                       //05-24-97|0x001c
#include "precwn95.h"                                                                     //05-24-97|0x001c
#endif                                                                                    //05-24-97|0x001c
#ifdef MSDOS_SYSTEM                                                                       //05-24-97|0x001c
#include "precdos.h"                                                                      //05-24-97|0x001c
#endif                                                                                    //05-24-97|0x001c
#include "prechost.h"                                                                     //05-24-97|0x001c
#include "precutil.h"                                                                     //03-29-97|0x001c
#include "precutil.hxx"                                                                   //03-29-97|0x001c
#include "precutil.hpp"                                                                   //03-29-97|0x001c
PRECUTIL prec_util;                                                                       //03-29-97|0x0022
//***************************************************************************             //04-08-23|0x0023
//***************************************************************************             //04-08-23|0x0024
//******                                                               ******             //04-08-23|0x0025
//******  mem_c_cpy                                                    ******             //04-08-23|0x0026
//******                                                               ******             //04-08-23|0x0027
//***************************************************************************             //04-08-23|0x0028
//***************************************************************************             //04-08-23|0x0029
//*******************************************************************************         //10-29-97|0x002b
//*******************************************************************************         //10-29-97|0x002b
// mem_c_copy                                                                             //05-04-22|0x002b
//*******************************************************************************         //10-29-97|0x002b
//*******************************************************************************         //10-29-97|0x002b
UCHAR_FAR PRECUTIL::mem_c_copy(                                                           //05-04-22|0x002b
    UCHAR_FAR Out,                                                                        //05-04-22|0x002b
    UCHAR_FAR In,                                                                         //05-04-22|0x002b
    UINT Byte,                                                                            //05-04-22|0x002b
    UINT Size                                                                             //05-04-22|0x002b
    ) {                                                                                   //05-04-22|0x002b
//*******************************************************************************         //10-29-97|0x002b
//***************************************************************************             //05-04-22|0x002d
  while(Size > 0)                                                                         //05-04-22|0x002e
    {                                                                                     //05-04-22|0x002f
      *Out = *In;                                                                         //05-04-22|0x0030
      if(*In == Byte)                                          return(In);                //05-04-22|0x0031
      ++In; ++Out; --Size;                                                                //05-04-22|0x0032
      }                                                                                   //05-04-22|0x0033
  return(0);                                                                              //05-04-22|0x0034
}                                                                                         //05-04-22|0x0035
//                                                                                        //05-24-97|0x0035
//***************************************************************************             //11-05-27|0x0039
//***************************************************************************             //11-05-27|0x003a
//******                                                               ******             //11-05-27|0x003b
//******  str_comp                                                     ******             //11-05-27|0x003c
//******                                                               ******             //11-05-27|0x003d
//***************************************************************************             //11-05-27|0x003e
//***************************************************************************             //11-05-27|0x003f
//*******************************************************************************         //10-29-97|0x0041
//*******************************************************************************         //10-29-97|0x0041
// str_comp                                                                               //11-05-27|0x0041
//*******************************************************************************         //10-29-97|0x0041
//*******************************************************************************         //10-29-97|0x0041
SLONG PRECUTIL::str_comp(                                                                 //11-05-27|0x0041
    SCHAR_FAR Addr1,                                                                      //11-05-27|0x0041
    SCHAR_FAR Addr2,                                                                      //11-05-27|0x0041
    UINT Size                                                                             //11-05-27|0x0041
    ) {                                                                                   //11-05-27|0x0041
//*******************************************************************************         //10-29-97|0x0041
//***************************************************************************             //11-05-27|0x0043
//***************************************************************************             //11-05-27|0x0044
  UINT i;                                                                            //11-05-27|0x0045
//***************************************************************************             //11-05-27|0x0046
//***************************************************************************             //11-05-27|0x0047
  for(i=0; i<Size; ++i)                                                                   //11-05-27|0x0048
    {                                                                                     //11-05-27|0x0049
//***************************************************************************             //11-05-27|0x004a
      if(*Addr1 == *Addr2)                                                                //11-05-27|0x004b
        {                                                                                 //11-05-27|0x004c
          if(*Addr1 == 0x00)                                                              //11-05-27|0x004d
            {                                                                             //11-05-27|0x004e
              return(0);                                                                  //11-05-27|0x004f
              }                                                                           //11-05-27|0x0050
          }                                                                               //11-05-27|0x0051
//***************************************************************************             //11-05-27|0x0052
        else {                                                                            //11-05-27|0x0053
          if(*Addr1 < *Addr2)                                                             //11-05-27|0x0054
            {                                                                             //11-05-27|0x0055
              return(-1);                                                                 //11-05-27|0x0056
              }                                                                           //11-05-27|0x0057
            else{                                                                         //11-05-27|0x0058
              return(1);                                                                  //11-05-27|0x0059
              }                                                                           //11-05-27|0x005a
          }                                                                               //11-05-27|0x005b
//***************************************************************************             //11-05-27|0x005c
      ++Addr1;                                                                            //11-05-27|0x005d
      ++Addr2;                                                                            //11-05-27|0x005e
      }                                                                                   //11-05-27|0x005f
  return(2);                                                                              //11-05-27|0x0060
}                                                                                         //11-05-27|0x0061
//                                                                                        //05-24-97|0x0061
//***************************************************************************             //04-08-23|0x0064
//***************************************************************************             //04-08-23|0x0065
//******                                                               ******             //04-08-23|0x0066
//******  get_hex                                                      ******             //04-08-23|0x0067
//******                                                               ******             //04-08-23|0x0068
//***************************************************************************             //04-08-23|0x0069
//***************************************************************************             //04-08-23|0x006a
//*******************************************************************************         //10-29-97|0x006c
//*******************************************************************************         //10-29-97|0x006c
// get_hex                                                                                //check   |0x006c
//*******************************************************************************         //10-29-97|0x006c
//*******************************************************************************         //10-29-97|0x006c
UINT PRECUTIL::get_hex(                                                                   //check   |0x006c
    SCHAR_FAR In,                                                                         //check   |0x006c
    ULONG_FAR Out,                                                                        //check   |0x006c
    ULONG NoBytes                                                                         //check   |0x006c
    ) {                                                                                   //check   |0x006c
//*******************************************************************************         //10-29-97|0x006c
//***************************************************************************             //05-04-22|0x006e
  WORDS work;                                                                        //05-04-22|0x006f
  WORDS work_char;                                                                   //05-04-22|0x0070
  ULONG char_no;                                                                     //05-04-22|0x0071
  ULONG no_chars;                                                                    //05-04-22|0x0072
//***************************************************************************             //05-04-22|0x0073
  no_chars     = 2 * NoBytes;                                                             //check   |0x0074
  no_chars    += 2;                                                                       //check   |0x0075
  work.ulong   = 0;                                                                       //05-04-22|0x0076
  for(char_no=0; char_no<no_chars; ++char_no)                                             //05-04-22|0x0077
    {                                                                                     //05-04-22|0x0078
      work_char.ulong   = 0;                                                              //05-04-22|0x0079
      work_char.char0   = *(In+char_no);                                                  //05-04-22|0x007a
      *Out              = 0;                                                              //05-04-25|0x007b
//***************************************************************************             //05-04-22|0x007c
      switch(char_no)                                                                     //05-04-22|0x007d
        {                                                                                 //05-04-22|0x007e
          case 0:                                                                         //05-04-22|0x007f
            if(work_char.char0 == '0')                               break;               //05-04-22|0x0080
            return(0);                                                                    //05-04-22|0x0081
//***************************************************************************             //05-04-22|0x0082
          case 1:                                                                         //05-04-22|0x0083
            if(work_char.char0 == 'x')                               break;               //05-04-22|0x0084
            if(work_char.char0 == 'X')                               break;               //05-04-25|0x0085
            return(0);                                                                    //05-04-22|0x0086
//***************************************************************************             //05-04-22|0x0087
          default:                                                                        //05-04-22|0x0088
            switch(work_char.char0)                                                       //05-04-22|0x0089
              {                                                                           //05-04-22|0x008a
                case '0': case '1':  case '2':  case '3':                                 //05-04-22|0x008b
                case '4': case '5':  case '6':  case '7':                                 //05-04-22|0x008c
                case '8': case '9':                                                       //05-04-22|0x008d
                      work_char.char0 -= '0';                                             //05-04-22|0x008e
                      break;                                                              //05-04-22|0x008f
//---------------------------------------------------------------------------             //05-04-25|0x0090
                case 'A': case 'B':  case 'C':  case 'D':                                 //05-04-25|0x0091
                case 'E': case 'F':                                                       //05-04-25|0x0092
                      work_char.char0 -= 'A';                                             //05-04-25|0x0093
                      work_char.slong += 10;                                              //05-04-25|0x0094
                      break;                                                              //05-04-25|0x0095
//---------------------------------------------------------------------------             //05-04-22|0x0096
                case 'a': case 'b':  case 'c':  case 'd':                                 //05-04-22|0x0097
                case 'e': case 'f':                                                       //05-04-22|0x0098
                      work_char.char0 -= 'a';                                             //05-04-22|0x0099
                      work_char.slong += 10;                                              //05-04-22|0x009a
                      break;                                                              //05-04-22|0x009b
//---------------------------------------------------------------------------             //05-04-22|0x009c
                default:                                                                  //05-04-22|0x009d
                      return(0);                                                          //05-04-22|0x009e
                }                                                                         //05-04-22|0x009f
//---------------------------------------------------------------------------             //05-04-22|0x00a0
            work.ulong      *= 16;                                                        //05-04-25|0x00a1
            work.ulong      += work_char.ulong;                                           //05-04-22|0x00a2
            break;                                                                        //05-04-22|0x00a3
            }                                                                             //05-04-22|0x00a4
      }                                                                                   //05-04-22|0x00a5
//***************************************************************************             //05-04-22|0x00a6
  if(*(In+char_no) != 0x00)                                                              //check   |0x00a7
                            return(0);                                                    //check   |0x00a8
//---------------------------------------------------------------------------             //05-04-22|0x00a9
  *Out = work.ulong;                                                                      //check   |0x00aa
  return(1);                                                                              //05-04-22|0x00ab
}                                                                                         //05-04-22|0x00ac
//                                                                                        //05-24-97|0x00ac
//*******************************************************************************         //05-24-97|0x00ae
//*******************************************************************************         //05-24-97|0x00ae
//****                       END OF FILE                                     ****         //05-24-97|0x00ae
//*******************************************************************************         //05-24-97|0x00ae
//*******************************************************************************         //05-24-97|0x00ae
